file = parse("schependom.ifc")
surfaces = create_geometry(file)
voxels_a_lr = voxelize(surfaces, VOXELSIZE=0.04)
voxels_a = resample(voxels_a_lr, 2)
voxels_b_o = voxelize(surfaces, VOXELSIZE=0.02)
hack = constant_like(voxels_a, 0)
voxels_b = union(hack, voxels_b_o)
external_a = exterior(voxels_a)
external_b = exterior(voxels_b)
internal_a = invert(external_a)
shell_a = offset(internal_a)
exb_sha = union(external_b, shell_a)
shell_a_reach = traverse(exb_sha, shell_a, 8)
s2 = subtract(external_b, shell_a_reach)
s22 = intersect(s2, internal_a)
reach_back = traverse(exb_sha, s22, 11) 
result = intersect(reach_back, shell_a)
